---
title: "[Java] 하나의 배열로 객체 관리"
description: ""
date: "2022-08-05T20:00:45+09:00"
thumbnail: ""
categories:
  - "Java"
tags:
  - "Java"


---
<!--more-->

- 동일한 타입의 값들을 배열로 관리하는 것이 유리
- 객체들도 배열로 관리하는 것이 코드를 깔끔하게 만들어 줌
    
    ```java
    class Car {
    	Tire frontLeftTire = new Tire("앞 왼쪽", 6);
      Tire frontRightTire = new Tire("앞 오른쪽", 2);
      Tire backLeftTire = new Tire("뒤 왼쪽", 3);
      Tire backRightTire = new Tire("앞 오른쪽", 4);
    }
    ```
    
    ```java
    class Car {
    	Tire[] tires = {
    		new Tire("앞 왼쪽", 6),
    		new Tire("앞 오른쪽", 2),
    		new Tire("뒤 왼쪽", 3),
    		new Tire("뒤 오른쪽", 4),
    	};
    }
    ```
    
    - 인덱스로 표현되므로 대입이나 제어문에서 활용하기 매우 쉽다.
        - frontLeftTire : tires[0]
        - frontRightTire : tires[1]
        - backLeftTire : tires[2]
        - backRightTire : tires[3]
        - ex) 인덱스 1을 이용하여 앞 오른쪽 타이어를 ATire로 교체
            
            ```java
            tires[1] = new ATire("앞 오른쪽", 13);
            ```
            
            - tires 배열의 각 항목은 Tire 타입이므로 자식 객체인 ATire를 대입하면 자동 타입 변환이 발생, 아무런 문제가 없다.
                - 배열의 타입은 Tire이지만 실제 저장 항목이 Tire의 자식 객체라면 모두 가능
                - 상속 관계에 있는 객체들을 배열로 관리하면 제어문에서 가장 많이 혜택을 본다.
        - ex) 전체 타이어의 `roll()` 메소드를 호출하는 Car 클래스의 `run()` 메소드는 for문으로 작성 가능
            
            ```java
            int run() {
            	System.out.println("자동차가 달린다.");
            	for(int i = 0; i < tires.length; i++) {
            		if(tires[i].roll() == false) {
            			stop();
            			return (i + 1);
            		}
            	}
            	return 0;
            }
            ```
            
        
        ---
        
- ex)
    - Car.java
        - Tire를 부품으로 가지는 클래스
        
        ```java
        public class Car {
        	// 필드
        	Tire[] tires = {
        			new Tire("앞 왼쪽", 6),
        			new Tire("앞 오른쪽", 2),
        			new Tire("뒤 왼쪽", 3),
        			new Tire("앞 오른쪽", 4)
        	};
        	
        	// 메소드
        	int run() {
        		System.out.println("자동차가 달린다.");
        		for(int i = 0; i < tires.length; i++) {
        			if(tires[i].roll() == false) {
        				stop();
        				return (i + 1);
        			}
        		}
        		return 0;
        	}
        	
        	void stop() {
        		System.out.println("자동차가 멈춥니다.");
        	}
        }
        ```
        
    - CarEx.java
        - 실행 클래스
        
        ```java
        public class CarEx {
        
        	public static void main(String[] args) {
        		Car car = new Car(); // Car 객체 생성
        		
        		for(int i = 1; i <= 5; i++) {
        			int problemLocation = car.run();
        			if(problemLocation != 0) {
        				System.out.println(car.tires[problemLocation - 1].location 
        						           + " ATire로 교체");
        				car.tires[problemLocation - 1] = 
        						new ATire(car.tires[problemLocation - 1].location, 15);
        			}
        			System.out.println("--------------------------------");
        		}
        	}
        }
        ```
        
        ![Untitled](/images/lang_java/inheritance/하나의_배열로_객체_관리/Untitled.png)
        
    
---
    
## References
    
- 이것이 자바다 신용권의 Java 프로그래밍 정복 - 신용권 지음, 한빛미디어 출판