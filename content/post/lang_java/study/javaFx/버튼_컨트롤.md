---
title: "[Java] JavaFX, 버튼 컨트롤"
description: ""
date: "2022-12-20T20:00:30+09:00"
thumbnail: ""
categories:
  - "Java"
tags:
  - "Java"
  - "JavaFX"

---
<!--more-->

- 버튼 컨트롤은 마우스로 클릭할 수 있는 컨트롤로 ButtonBase를 상속하는 하위 컨트롤을 의미
    - Button, CheckBox, RadioButton, ToggleButton, Hyperlink 등이 있다.
    
    ![Untitled](/images/lang_java/javaFx/버튼_컨트롤/Untitled.png)
    
- 기본 Button은 단순한 글자로 구성
- ImageView를 매개값으로 해서 `setGraph()` 메소드를 호출하면 아이콘을 넣을 수 있다.
    - ex) 아이컨 버튼을 FXML로 작성하는 방법
    
    ```xml
    <Button text="아이콘버튼">
    	<graphic>
    		<ImageView>
    			<Image url="@images/history_view.gif" />
    		</ImageView>
    	</graphic>
    </Button>
    ```
    
- CheckBox, RadioButton, ToggleButton 컨트롤은 선택과 미선택 두 가지 상태를 가질 수 있다.
    - selected 속성의 값이 true이면 false이면 미선택
    - ex) CheckBox 컨트롤을 FXML로 선언
    
    ```xml
    <CheckBox text="라벨1" userData="값1" />
    <CheckBox text="라벨2" userData="값2" selected="true" />
    ```
    
- RadioButton, ToggleButton,에는 toggleGroup 속성이 존재
    - 같은 ToggleGroup을 참조할 경우
        - 하나의 그룹으로 묶임
        - 같은 그룹내에서는 하나의 컨트롤만 선택하는 효과가 있음
    - 참조할 ToggleGroup 객체는 `<fx:define>` 태그를 사용해서 `<ToggleGroup fx:id=”groupName” />` 작성
    - RadioButton의 toggleGroup 속성에서 `$groupName`으로 참조
    - ex) 2개의 RadioButton을 하나의 그룹으로 묶어서 선언
    
    ```xml
    <fx:define>
    	<ToggleGroup fx:id="groupName" />
    </fx:define>
    <RadioButton text="라벨1" userData="값1" toggleGroup="$groupName" />
    <RadioButton text="라벨2" userData="값2" toggleGroup="$groupName" 
                 selected="true" />
    ```
    
- CheckBox, RadioButton, ToggleButton 컨트롤은 사용자가 클릭하면 ActionEvent가 발생하기 때문에 EventHandler로 처리가 가능
    - onAction 속성을 작성해서 컨트롤러의 이벤트 처리 메소드로 연결할 수도 있다.
    
    ```xml
    <CheckBox ... onAction="#handleChkAction" />
    ```
    
- RadioButton 또는 ToggleButton 그룹 내에서 선택 변경을 감시하고 싶을 경우
    - ToggleGroup의 selectedToggle 속성을 다음과 같이 작성
    
    ```java
    groupName.selectedToggleProperty().addListener(new ChangeListener<Toggle>() {
    	@Override
    	public void changed(ObservableValue<? extends Toggle> observable,
                          Toggle oldValue, Toggle newValue) { ... }
    });
    ```
    
    - t선택이 변경되면 `changed()` 메소드가 실행되면 세 번째 매개값인 newValue에 마지막으로 선택된 컨트롤이 대입
- ex) CheckBox와 RadioButton의 이벤트 처리
    - 버튼 컨트롤 배치와 이벤트 처리
        - Root.fxml
        
        ```xml
        <?xml version="1.0" encoding="UTF-8"?>
        
        <?import javafx.geometry.Insets?>
        <?import javafx.scene.control.Button?>
        <?import javafx.scene.control.CheckBox?>
        <?import javafx.scene.control.RadioButton?>
        <?import javafx.scene.control.Separator?>
        <?import javafx.scene.control.ToggleGroup?>
        <?import javafx.scene.image.Image?>
        <?import javafx.scene.image.ImageView?>
        <?import javafx.scene.layout.BorderPane?>
        <?import javafx.scene.layout.HBox?>
        <?import javafx.scene.layout.VBox?>
        
        <BorderPane prefHeight="150.0" prefWidth="420.0" 
        			xmlns="http://javafx.com/javafx/19" 
        			xmlns:fx="http://javafx.com/fxml/1" 
        			fx:controller="buttonControl.RootController">
           <padding>
              <Insets bottom="10.0" left="10.0" right="10.0" top="10.0"/>
           </padding>
           
           <center>
              <HBox alignment="CENTER" prefHeight="100.0" 
              		prefWidth="400.0" spacing="10.0">
                 <children>
                    <VBox alignment="CENTER_LEFT" prefHeight="100.0" 
                    	  prefWidth="100.0" spacing="20.0">
                       <children>
                          <CheckBox fx:id="chk1" onAction="#handleChkAction" 
                          			text="선택1" />
                          <CheckBox fx:id="chk2" onAction="#handleChkAction" 
                          			text="선택2" />
                       </children>
                    </VBox>
                    <ImageView fx:id="checkImageView" fitWidth="100.0" 
                    		   preserveRatio="true">
                       <image><Image url="@images/geek.png" /></image>
                    </ImageView>
                    
                    <Separator orientation="VERTICAL" prefHeight="100.0"/>
                    
                    <VBox alignment="CENTER_LEFT" prefHeight="100.0" 
                    	  prefWidth="150.0" spacing="20.0">
                       <fx:define><ToggleGroup fx:id="group" /></fx:define>
                       <children>
                          <RadioButton fx:id="rad1" text="BubbleChart" 
                          			   userData="BubbleChart">
                             <toggleGroup>
                                <ToggleGroup fx:id="group" />
                             </toggleGroup></RadioButton>
                          <RadioButton fx:id="rad2" selected="true" 
                          			   text="BarChart" toggleGroup="$group" 
                          			   userData="BarChart" />
                          <RadioButton fx:id="rad3" text="AreaChart" 
                          			   toggleGroup="$group" 
                          			   userData="AreaChart" />
                       </children>
                    </VBox>
                   
                    <ImageView fx:id="radioImageView" fitWidth="100.0" 
                    		   preserveRatio="true">
                    	<image><Image url="@images/BarChart.png" /></image>
                    </ImageView>
                 </children>
              </HBox>
           </center>
        	
        	<bottom>
        		<Button fx:id="btnExit" onAction="#handleBtnExitAction" 
        				BorderPane.alignment="CENTER">
        			<graphic>
        				<ImageView fitHeight="20.0" fitWidth="20.0"><Image url="@images/exit.png" /></ImageView>
        			</graphic>
        			<BorderPane.margin><Insets top="20.0" /></BorderPane.margin>        
        		</Button>
        	</bottom>
        </BorderPane>
        ```
        
    - 버튼 컨트롤 이벤트 처리
        - RootController.java
        
        ```java
        package buttonControl;
        
        import java.net.URL;
        import java.util.ResourceBundle;
        
        import javafx.application.Platform;
        import javafx.beans.value.ChangeListener;
        import javafx.beans.value.ObservableValue;
        import javafx.event.ActionEvent;
        import javafx.fxml.FXML;
        import javafx.fxml.Initializable;
        import javafx.scene.control.Button;
        import javafx.scene.control.CheckBox;
        import javafx.scene.control.Toggle;
        import javafx.scene.control.ToggleGroup;
        import javafx.scene.image.Image;
        import javafx.scene.image.ImageView;
        
        public class RootController implements Initializable {
        	@FXML private CheckBox chk1;
        	@FXML private CheckBox chk2;
        	@FXML private ImageView checkImageView;
        	@FXML private ToggleGroup group;
        	@FXML private ImageView radioImageView;
        	@FXML private Button btnExit;
        	
        	@Override
        	public void initialize(URL location, ResourceBundle resources) {
        		group.selectedToggleProperty().addListener(new ChangeListener<Toggle>() {
        			@Override
        			public void changed(ObservableValue<? extends Toggle> observable,
        					Toggle oldValue, Toggle newValue) {
        				Image image = new Image(getClass().getResource("images/" + newValue.getUserData().toString() + ".png").toString());
        				radioImageView.setImage(image);
        			}
        		});
        	}
        	
        	// CheckBox 이벤트 처리
        	public void handleChkAction(ActionEvent e) {
        		if(chk1.isSelected() && chk2.isSelected()) {
        			checkImageView.setImage(new Image(
        					getClass().getResource("images/glasses_hair.png").toString()));
        		} else if(chk1.isSelected()) {
        			checkImageView.setImage(new Image(
        					getClass().getResource("images/glasses.png").toString()));
        		} else if(chk2.isSelected()) {
        			checkImageView.setImage(new Image(
        					getClass().getResource("images/hair.png").toString()));
        		} else {
        			checkImageView.setImage(new Image(
        					getClass().getResource("images/geek.png").toString()));
        		}
        	}
        	
        	// Button 이벤트 처리
        	public void handleBtnExitAction(ActionEvent e) {
        		Platform.exit();
        	}
        }
        ```
        
    - AppMain.java
        
        ```java
        import javafx.application.Application;
        import javafx.fxml.FXMLLoader;
        import javafx.scene.Parent;
        import javafx.scene.Scene;
        import javafx.stage.Stage;
        
        public class AppMain extends Application {
        	
        	@Override
        	public void start(Stage primaryStage) throws Exception {
        		Parent parent = FXMLLoader.load(getClass().getResource("Root.fxml"));
        		Scene scene = new Scene(parent);
        		
        		primaryStage.setTitle("AppMain");
        		primaryStage.setScene(scene);
        		primaryStage.show();
        	}
        
        	public static void main(String[] args) {
        		launch(args);
        	}
        }
        ```
        
    - images
        
        ![Untitled](/images/lang_java/javaFx/버튼_컨트롤/Untitled%201.png)
        
    
    ![Untitled](/images/lang_java/javaFx/버튼_컨트롤/Untitled%202.png)
    

---

## References

- 이것이 자바다 신용권의 Java 프로그래밍 정복 - 신용권 지음, 한빛미디어 출판
- [https://docs.oracle.com/javafx](https://docs.oracle.com/javafx)