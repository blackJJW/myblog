---
title: "[Java] JavaFX, 차트 컨트롤"
description: ""
date: "2022-12-25T18:00:30+09:00"
thumbnail: ""
categories:
  - "Java"
tags:
  - "Java"
  - "JavaFX"

---
<!--more-->

- JavaFX에는 다양한 차트를 생성하는 컨트롤을 제공
    - 차트의 컨트롤 들은 javafx.scene.chart 패키지에 포함
    
    ![Untitled](/images/lang_java/javaFx/차트_컨트롤/Untitled.png)
    
- FXML로 차트 컨트롤을 배치하는 방법
    - PieChart의 경우
        - X축과 Y축이 없으므로 축으로 정의할 필요가 없다.
    
    ```xml
    <PieChart />
    ```
    
    - LineChart, AreaChart, BarChart일 경우
        - X축과 Y축이 필요하므로 축 정의가 필요하다.
        
        ex) BarChart
        
        - `<xAxis>`와 `<yAxis>`는 각각 X축과 Y축을 의미
        - X축(위쪽, 아래쪽), Y축(왼쪽, 오른쪽)이 있기 때문에 눈금이 나타날 위치를 지정해야 한다.
        - `<CategoryAxis side=”BOTTOM” />`은 분류 눈금 아래쪽 축에 나타낸다.
        - `<NumberAxis side=”LEFT” />`는 숫자 눈금을 왼쪽 축에 나타낸다.
    
    ```xml
    <BarChart>
    	<xAxis>
    		<CategoryAxis side="BOTTOM" />
    	</xAxis>
    	<yAxis>
    		<NumberAxis side="LEFT" />
    	</yAxis>
    </BarChart>
    ```
    
- 컨트롤러는 차트의 데이터를 데이터베이스나 네트워크에서 전달받아서 차트 컨트롤에 추가해야 한다.
    
    ex) PieChart에 데이터를 추가하는 방법
    
    - 각각의 데이터는 `PieChart.Data` 객체로 생성, 이것을 ObservableList에 저장한 다음 PieChart의 `setData()` 매개값으로 제공
    
    ```java
    pieChart.setData(FXCollections.observableArrayList(
    	new PieChart.Data("AWT", 10);
    	new PieChart.Data("Swing", 30);
    	new PieChart.Data("AWT", 25);
    	new PieChart.Data("JavaFX", 35);
    ));
    ```
    
    - X축과 Y축이 필요한 LineChart, AreaChart, BarChart는 데이터를 추가하는 방법이 모두 동일
    
    ex) BarChart에 데이터를 추가하는 방법
    
    ```java
    XYChart.Series series1 = new XYChart.Series(); // 시리즈 생성
    series1.setName("남자");    // 시리즈 이름 설정
    
    // 시리즈 데이터 세팅
    series1.setDate(FXCollections.observableArrayList(
    	new XYChart.Data("2015", 70),
    	new XYChart.Data("2016", 40),
    	new XYChart.Data("2017", 50),
    	new XYChart.Data("2018", 30),
    ));
    barChart.getData().add(series1);  // 차트에 시리즈 추가
    ```
    
- `XYChart.Series`는 하나의 그래프를 의미
- 여러 개의 그래프를 겹쳐 보이게 하려면 `XYChart.Series` 를 그래프의 수에 맞게 생성해서 추가하면 된다.
    - 축의 데이터는 `XYChart.Data` 객체로 생성
        - 이것을 ObservableList에 저장한 다음 `XYChart.Series`의 `setData()` 매개값으로 제공
    - XYChart.Series가 완성되면 차트의 getData()를 호출해서 얻은 ObservableList에 추가함으로써 하나의 그래프가 생성
- ex) PieChart, BarChart, AreaChart를 생성하는 방법
    - 차트 컨트롤 배치
        - Root.fxml
    
    ```java
    <?xml version="1.0" encoding="UTF-8"?>
    
    <?import javafx.scene.chart.AreaChart?>
    <?import javafx.scene.chart.BarChart?>
    <?import javafx.scene.chart.CategoryAxis?>
    <?import javafx.scene.chart.NumberAxis?>
    <?import javafx.scene.chart.PieChart?>
    <?import javafx.scene.layout.HBox?>
    
    <HBox prefHeight="250.0" prefWidth="850.0" 
    	  xmlns:fx="http://javafx.com/fxml/1" 
    	  xmlns="http://javafx.com/javafx/19"
    	  fx:controller="chartControl.RootController">
       <children>
       	  <!-- PieChart 배치 -->
          <PieChart fx:id="pieChart" />
          
          <!-- BarChart 배치 -->
          <BarChart fx:id="barChart">
            <xAxis>
              <CategoryAxis side="BOTTOM" />
            </xAxis>
            <yAxis>
              <NumberAxis side="LEFT" />
            </yAxis>
          </BarChart>
          
          <!-- AreaChart 배치 -->
          <AreaChart fx:id="areaChart">
            <xAxis>
              <CategoryAxis side="BOTTOM" />
            </xAxis>
            <yAxis>
              <NumberAxis side="LEFT" />
            </yAxis>
          </AreaChart>
       </children>
    </HBox>
    ```
    
    - 컨트롤러
        - RootController.java
    
    ```java
    import java.net.URL;
    import java.util.ResourceBundle;
    
    import javafx.collections.FXCollections;
    import javafx.fxml.FXML;
    import javafx.fxml.Initializable;
    import javafx.scene.chart.AreaChart;
    import javafx.scene.chart.BarChart;
    import javafx.scene.chart.PieChart;
    import javafx.scene.chart.XYChart;
    
    public class RootController implements Initializable {
    	@FXML private PieChart pieChart;
    	@FXML private BarChart barChart;
    	@FXML private AreaChart areaChart;
    	
    	@Override
    	public void initialize(URL location, ResourceBundle resources) {
    		// PieChart 데이터 설정
    		pieChart.setData(FXCollections.observableArrayList(
    			new PieChart.Data("AWT", 10),
    			new PieChart.Data("Swing", 30),
    			new PieChart.Data("AWT", 25),
    			new PieChart.Data("JavaFX", 35)
    		));
    		
    		// 시리즈1 생성
    		XYChart.Series series1 = new XYChart.Series();
    		series1.setName("남자");
    		series1.setData(FXCollections.observableArrayList(
    			new XYChart.Data("2015", 70),
    			new XYChart.Data("2016", 40),
    			new XYChart.Data("2017", 50),
    			new XYChart.Data("2018", 30)
    		));
    		
    		// 시리즈2 생성
    		XYChart.Series series2 = new XYChart.Series();
    		series2.setName("여자");
    		series2.setData(FXCollections.observableArrayList(
    			new XYChart.Data("2015", 30),
    			new XYChart.Data("2016", 60),
    			new XYChart.Data("2017", 50),
    			new XYChart.Data("2018", 60)
    		));
    		
    		barChart.getData().add(series1);
    		barChart.getData().add(series2);
    		
    		// 시리즈3 생성
    		XYChart.Series series3 = new XYChart.Series();
    		series3.setName("평균온도");
    		series3.setData(FXCollections.observableArrayList(
    			new XYChart.Data("2015", 13),
    			new XYChart.Data("2016", 6),
    			new XYChart.Data("2017", 22),
    			new XYChart.Data("2018", 19)
    		));
    		areaChart.getData().add(series3);
    	}
    }
    ```
    
    - AppMain.java
    
    ```java
    import javafx.application.Application;
    import javafx.fxml.FXMLLoader;
    import javafx.scene.Parent;
    import javafx.scene.Scene;
    import javafx.stage.Stage;
    
    public class AppMain extends Application{
    	@Override
    	public void start(Stage primaryStage) throws Exception {
    		Parent parent = FXMLLoader.load(getClass().getResource("Root.fxml"));
    		Scene scene = new Scene(parent);
    		
    		primaryStage.setTitle("AppMain");
    		primaryStage.setScene(scene);
    		primaryStage.show();
    	}
    
    	public static void main(String[] args) {
    		launch(args);
    	}
    }
    ```
    
    ![Untitled](/images/lang_java/javaFx/차트_컨트롤/Untitled%201.png)
    

---

## References

- 이것이 자바다 신용권의 Java 프로그래밍 정복 - 신용권 지음, 한빛미디어 출판
- [https://docs.oracle.com/javafx](https://docs.oracle.com/javafx)