---
title: "[Java] 디폴트 메소드와 인터페이스 확장"
description: ""
date: "2022-08-15T13:30:45+09:00"
thumbnail: ""
categories:
  - "Java"
tags:
  - "Java"


---
<!--more-->

- 디폴트 메소드는 인터페이스에 선언된 인스턴스 메소드이기 때문에 구현 객체가 있어야 사용 가능

---

## 디폴트 메소드의 필요성

- 기존 인터페이스를 확장해서 새로운 기능을 추가하기 위해
- 기존 인터페이스의 이름과 추상 메소드의 변경 없이 디폴트 메소드만 추가할 수 있기 때문에 이전에 개발한 구현 클래스를 그대로 사용할 수 있으면서 새롭게 개발하는 클래스는 디폴트 메소드를 활용 가능
- ex) 기존의 MyInterface라는 인터페이스와 이를 구현한 MyClassA라는 클래스가 존재
    - 후에 MyInterface에 기능을 추가할 필요성이 생김
    - MyInterface에 추상 메소드를 추가함
        - MyClassA에서 문제가 발생
        - 추가된 추상 메소드에 대한 실체 메소드가 MyClassA에 없기 때문
    - MyClassA를 수정할 여건이 안된다면 결국 MyInterface에 추상 메소드를 추가할 수 없다.
        - 그래서 MyInterface에 디폴트 메소드를 선언
    - 디폴트 메소드는 추상 메소드가 아니기 때문에 구현 클래스에서 실체 메소드를 작성할 필요 없음
        - 그래서 MyClassA는 아무런 문제 없이 사용 가능
    
    ![Untitled](/images/lang_java/interface/디폴트_메소드와_인터페이스_확장/Untitled.png)
    
    - 수정된 MyInterface를 구현한 새로운 클래스인 MyClassB는 `method1()`의 내용은 반드시 채워야 한다.
    - 디폴트 메소드인 `method2()`는 MyInterface에 정의된 것을 사용해도 되고, 필요에 따라 재정의해서 사용 가능
    
    ---
    
- ex)
    - MyInterface.java
        - 기존 인터페이스
        
        ```java
        public interface MyInterface {
        
        	public void method1();
        }
        ```
        
    - MyClassA.java
        - 기존 구현 클래스
        
        ```java
        public class MyClassA implements MyInterface{
        
        	@Override
        	public void method1() {
        		System.out.println("MyClassA - method1() 실행");
        	}
        }
        ```
        
    - MyInterface.java
        - 수정 인터페이스
        - 디폴트 메소드인 `method2()`를 추가해서 수정
        
        ```java
        public interface MyInterface {
        
        	public void method1();
        	
        	public default void method2() { // 디폴트 메소드
        		System.out.println("MyInterface - method2 실행");
        	}
        }
        ```
        
    - MyClassB.java
        - 새로운 구현 클래스
        
        ```java
        public class MyClassB implements MyInterface{
        
        	@Override
        	public void method1() {
        		System.out.println("MyClassB - method1() 실행");
        	}
        	
        	@Override
        	public void method2() { // 디폴트 메소드 재정의
        		System.out.println("MyClassB - method2() 실행");
        	}
        }
        ```
        
    - DefaultMEthodEx.java
        - 디폴트 메소드 사용
        
        ```java
        public class DefaultMethodEx {
        
        	public static void main(String[] args) {
        		MyInterface mi1 = new MyClassA();
        		mi1.method1();
        		mi1.method2();
        		
        		MyInterface mi2 = new MyClassB();
        		mi2.method1();
        		mi2.method2();
        
        	}
        
        }
        ```
        
        ![Untitled](/images/lang_java/interface/디폴트_메소드와_인터페이스_확장/Untitled%201.png)
        
    
    ---
    

## 디폴트 메소드가 있는 인터페이스 상속

- 부모 인터페이스에 디폴트 메소드가 정의되어 있을 경우
    - 자식 인터페이스에서 디폴트 메소드를 활용하는 방법은 세 가지가 존재
        - 디폴트 메소드를 단순히 상속만 받는다.
        - 디폴트 메소드를 오버라이드해서 실행 내용을 변경
        - 디폴트 메소드를 추상 메소드로 재정의
    
    ---
    
- ex) 추상 메소드와 같이 디폴트 메소드가 선언된 ParentInterface가 있다고 가정
    - ParentInterface.java
        - 부모 인터페이스
        
        ```java
        public interface ParentInterface {
        
        	public void method1();
        	public default void method2() { /* 실행문 */}
        }
        ```
        
    - ChildInterface1.java
        - 자식 인터페이스
        
        ```java
        public interface ChildInterface1 extends ParentInterface{
        
        	public void method3();
        }
        ```
        
        - 이 경우 ChildInterface1 인터페이스를 구현하는 클래스는 `method1()`과 `method3()`의 실체 메소드를 가지고 있어야 하며 ParentInterface의 `method2()`를 호출 가능
            
            ```java
            ChildInterface1 ci1 = new ChildInterface1() {
            	@Override
            	public void mehtod1() { /* 실행문 */ }
            	@Override
            	public void mehtod3() { /* 실행문 */ }
            };
            
            ci1.method1();
            ci1.method2(); // ParentInterface의 method2() 호출
            ci1.method3();
            ```
            
    - ChildInterface2.java
        - 자식인터페이스
        - ParentInterface를 상속
        - ParentInterface의 디폴트 메소드인 `method2()`를 재정의
        - 자신의 추상 메소드인 `method3()`을 선언
        
        ```java
        public interface ChildInterface2 extends ParentInterface{
        
        	@Override
        	public default void method2() { /* 실행문 */ } // 재정의
        	
        	public void method3();
        }
        ```
        
        - 이 경우 ChildInterface2 인터페이스를 구현하는 클래스는 `method1()`과 `method3()`의 실체 메소드를 가지고 있어야 한다.
        - ChildInterface2에서 재정의한 `method2()`를 호출 가능
            
            ```java
            ChildInterface2 ci2 = new ChildInterface2() {
            	@Override
            	public void mehtod1() { /* 실행문 */ }
            	@Override
            	public void mehtod3() { /* 실행문 */ }
            };
            
            ci2.method1();
            ci2.method2(); // ChildInterface2의 method2() 호출
            ci2.method3();
            ```
            
    - ChildInterface3.java
        - 자식 인터페이스
        - ParentInterface를 상속
        - ParentInterface의 디폴트 메소드인 `method2()`를 추상 메소드로 재선언
        - 자신의 추상 메소드인 `method3()`을 선언
        
        ```java
        public interface ChildInterface3 extends ParentInterface{
        
        	@Override
        	public void method2(); // 추상 메소드로 재선언
        	public void method3();
        }
        ```
        
        - 이 경우 ChildInterface3 인터페이스를 구현하는 클래스는 `method1()`과 `method2()`, `method3()`의 실체 메소드를 모두 가지고 있어야 한다.
            
            ```java
            ChildInterface3 ci3 = new ChildInterface3() {
            	@Override
            	public void mehtod1() { /* 실행문 */ }
            	@Override
            	public void mehtod2() { /* 실행문 */ }
            	@Override
            	public void mehtod3() { /* 실행문 */ }
            };
            
            ci3.method1();
            ci3.method2(); // ChildInterface3의 method2() 호출
            ci3.method3();
            ```
            
    
---
    
## References
    
- 이것이 자바다 신용권의 Java 프로그래밍 정복 - 신용권 지음, 한빛미디어 출판