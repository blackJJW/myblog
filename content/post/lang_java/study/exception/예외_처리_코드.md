---
title: "[Java] 예외 처리 코드"
description: ""
date: "2022-09-07T21:30:45+09:00"
thumbnail: ""
categories:
  - "Java"
tags:
  - "Java"


---
<!--more-->

- 프로그램에서 예외가 발생했을 경우 프로그램의 갑작스러운 종료를 막고, 정상 실행을 유지할 수 있도록 처리하는 코드를 예외 처리 코드라고 한다.
- 자바 컴파일러는 소스 파일을 컴파일할 때 일반 예외가 발생할 가능성이 있는 코드를 발견하면 컴파일 오류를 발생시킨다.
    - 개발자가 예외 처리 고드를 작성하도록 요구
    - 실행 예외는 컴파일러가 체크해주지 않기 때문에 예외 처리 코드를 개발자의 경험을 바탕으로 작성해야 한다.
- 예외처리 코드는 `try`-`catch`-`finally` 블록을 이용
    - 생성나 내부와 메소드 내부에서 작성되어 일반 예외와 실행 예외가 발생할 경우 예외 처리를 할 수 있도록 해준다.
    - 작성 방법
        
        ![Untitled](/images/lang_java/exception/예외_처리_코드/Untitled.png)
        
        - try 블록에는 예외 발생 가능 코드가 위치
            - try 블록의 코드가 예외 발생 없이 정상 실행되면 catch 블록의 코드는 실행되지 않고 finally 블록의 코드를 실행
            - try 블록의코드에서 예외가 발생하면 즉시 실행을 멈추고 catch 블록으로 이동하여 예외 처리 코드를 실행
                - finally 블록 코드를 실행
        - finally 블록은 옵션으로 생략 가능
            - 예외 발생 여부와 상관없이 항상 실행할 내용이 있을 경우에만 finally 블록을 작성
            - try 블록과 catch 블록에서 return문을 사용하더라도 finally 구문은 항상 실행된다.
        
        ---
        

### 이클립스는 일반 예외가 발생할 가능성이 있는 코드를 작성하면 빨간 밑줄을 그어 예외 처리 코드의 필요성을 알려준다.

- 빨간 밑줄에 마우스를 가져아 놓으면 예외 정보를 알 수 있다.
    
    ![Untitled](/images/lang_java/exception/예외_처리_코드/Untitled%201.png)
    

---

- `Class.forName()` 메소드는 매개값으로 주어진 클래스가 존재하면 Class 객체를 리턴
    - 존재하지 않으면 ClassNotFoundException 예외를 발생
- ClassNotFoundException 예외는 일반 예외
    - 컴파일러는 개발자로 하여금 예외 처리 코드를 작성하도록 요구한다.
    - ex) TryCatchFinallyEx.java
        - 일반 예외 처리
        
        ```java
        public class TryCatchFinallyEx {
        
        	public static void main(String[] args) {
        		try {
        			Class clazz = Class.forName("Java.lang.String");
        		} catch(ClassNotFoundException e) {
        			System.out.println("클래스가 존재하지 않음.");
        		}
        
        	}
        	
        }
        ```
        
        ![Untitled](/images/lang_java/exception/예외_처리_코드/Untitled%202.png)
        
    - ArrayIndexOutOfBoundsException이나, NumberFormatException과 같은 실행 예외는 컴파일러가 예외 처리 코드를 체크하지 않기 때문에 이클립스에서도 빨간 밑줄이 생기기 않는다.
        
        ![Untitled](/images/lang_java/exception/예외_처리_코드/Untitled%203.png)
        
        - 개발자의 경험에 의지 해야한다.
    - TryCatchFinallyRuntimeExceptionEx.java
        - 실행 예외 처리
        
        ```java
        public class TryCatchFinallyRuntimeExceptionEx {
        
        	public static void main(String[] args) {
        		String data1 = null;
        		String data2 = null;
        		try {
        			data1 = args[0];
        			data2 = args[1];
        		} catch(ArrayIndexOutOfBoundsException e) {
        			System.out.println("실행 매개값의 수가 부족");
        			System.out.println("[ 실행 방법 ]");
        			System.out.println("java TryCatchFinallyRuntimeExceptionEx num1 num2");
        			return;
        		}
        		
        		try {
        			int value1 = Integer.parseInt(data1);
        			int value2 = Integer.parseInt(data2);
        			int result = value1 + value2;
        			System.out.println(data1 + "+" + data2 + '=' + result);
        		} catch(NumberFormatException e) {
        			System.out.println("숫자로 변환 불가");
        		} finally {
        			System.out.println("다시 실행하세요.");
        		}
        
        	}
        
        }
        ```
        
        - 실행 매개값을 주지 않아 예외 발생
        
        ![Untitled](/images/lang_java/exception/예외_처리_코드/Untitled%204.png)
        
        - 이클립스 메뉴에서 [Run → Run Configurations…]를 선택
            
            ![Untitled](/images/lang_java/exception/예외_처리_코드/Untitled%205.png)
            
        - Arguments탭을 클릭
            
            ![Untitled](/images/lang_java/exception/예외_처리_코드/Untitled%206.png)
            
        - Program arguments에 첫 번째 실행 매개값을 숫자가 아닌 문자를 주고 실행
            
            ![Untitled](/images/lang_java/exception/예외_처리_코드/Untitled%207.png)
            
        - NumberFormatException이 발생
            
            ![Untitled](/images/lang_java/exception/예외_처리_코드/Untitled%208.png)
            

---

## References

- 이것이 자바다 신용권의 Java 프로그래밍 정복 - 신용권 지음, 한빛미디어 출판