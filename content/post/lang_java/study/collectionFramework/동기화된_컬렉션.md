---
title: "[Java] 동기화된 컬렉션"
description: ""
date: "2022-11-20T01:00:30+09:00"
thumbnail: ""
categories:
  - "Java"
tags:
  - "Java"


---
<!--more-->

- 컬렉션 프레임워크의 대부분의 클래스들은 싱글 스레드 환경에서 사용할 수 있도록 셜계
    - 여러 스레드가 동시에 컬렉션에 접근한다면 의도하지 않게 요소가 변경될 수 있는 불안전한 상태가 된다.
- Vector와 Hashtable은 동기화된(synchronized) 메소드로 구성
    - 멀티 스레드 환경에서 안전하게 요소를 처리 가능
- ArrayList와 HashSet, HashMap은 동기화된 메소드로 구성되어 있지 않아 멀티 스레드 환경에서 안전하지 않다.
- 경우에 따라서는 ArrayList, HashSet, HashMap을 싱글 스레드 환경에서 사용하다가 멀티 스레드 환경에서 전달할 필요도 있을 수 있다.
    - 이런 경우를 대비해서 컬렉션 프레임워크는 비동기화된 메소드를 동기화된 메소드로 래핑하는 Collections의 `synchronizedXXX()` 메소드를 제공
    - 매개값으로 비동기화된 컬렉션을 대입하면 동기화된 컬렉션을 리턴
    
    | 리턴 타입 | 메소드(매개 변수) | 설명 |
    | --- | --- | --- |
    | List<T> | synchronizedList(List<T> list) | List를 동기화된 List로 리턴 |
    | Map<K, V> | synchronizedMap(Map<K, V> m) | Map을 동기화된 Map으로 리턴 |
    | Set<T> | synchronizedSet(Set<T> s) | Set을 동기화된 Set으로 리턴 |
- ArrayList를 `Collections.synchronizedList()` 메소드를 사용해서 동기화된 List로 변환
    
    ![Untitled](/images/lang_java/collectionFramework/동기화된_컬렉션/Untitled.png)
    
- HashSet을 `Collections.synchronizedSet()` 메소드를 사용해서 동기화된 Set으로 변환
    
    ![Untitled](/images/lang_java/collectionFramework/동기화된_컬렉션/Untitled%201.png)
    
- HashMap을 `Collections.synchronizedMap()` 메소드를 사용해서 동기화된 Map으로 변환
    
    ![Untitled](/images/lang_java/collectionFramework/동기화된_컬렉션/Untitled%202.png)
    

---

## References

- 이것이 자바다 신용권의 Java 프로그래밍 정복 - 신용권 지음, 한빛미디어 출판