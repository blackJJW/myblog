---
title: "[Java] 람다식, 생성자 참조"
description: ""
date: "2022-11-08T23:40:30+09:00"
thumbnail: ""
categories:
  - "Java"
tags:
  - "Java"


---
<!--more-->

- 메소드 참조(method references)는 생성자 참조도 포함
    - 생성자를 참조한다는 것은 객체 생성을 의미
    - 단순히 메소드 호출로 구성된 람다식을 메소드 참조로 대치할 수 있듯이
        - 단순히 객체를 생성하고 리턴하도록 구성된 람다식은 생성자 참조로 대치 가능
    - 람다식은 단순히 객체 생성 후 리턴만 수행
    
    ```java
    (a, b) -> { return new 클래스(a, b); }
    ```
    
    - 이 경우, 생성자 참조로 표현하면 다음과 같다.
        - 클래스 이름 뒤에 `::`기호를 붙이고 `new` 연산자를 기술
        - 생성자가 오버로딩되어 여러 개가 있을 경우
            - 컴파일러는 함수적 인터페이스의 추상 메소드와 동일한 매개 변수 타입과 개수를 가지고 있는 생성자를 찾아 실행
            - 만약 해당 생성자가 존재하지 않으면 컴파일 오류가 발생
        
        ```java
        클래스 :: new
        ```
        
- ex) 생성자 참조
    - 생성자 참조를 이용해서 두 가지 방법으로 Member 객체를 생성
        1. `Function<String, String>` 함수적 인터페이스의 `Member apply(String)` 메소드를 이용해서 Member 객체를 생성
        2. `BiFunction<String, String, Member>` 함수적 인터페이스의 `Member apply(String, String)` 메소드를 이용해서 Member 객체를 생성
    - 생성자 참조는 두 가지 방법 모두 동일
        - 실행되는 Member 생성자가 다르다.
    - ConstructorReferencesEx.java
    
    ```java
    import java.util.function.BiFunction;
    import java.util.function.Function;
    
    public class ConstructorReferencesEx {
    
    	public static void main(String[] args) {
    		Function<String, Member> function1 = Member :: new;
    		                                   // 생성자 참조
    		
    		Member member1 = function1.apply("angel");
    		                // 매개값 1개
    		
    		BiFunction<String, String, Member> function2 = Member :: new;
    		                                             // 생성자 참조
    		
    		Member member2 = function2.apply("new angel", "angel");
    		                // 매개값 2개
    	}
    }
    ```
    
    ![Untitled](/images/lang_java/lambda/생성자_참조/Untitled.png)
    
- ex) 생성자 오버로딩
    - Member.java
    
    ```java
    public class Member {
    	private String name;
    	private String id;
    	
    	public Member() {
    		System.out.println("Member() 실행");
    	}
    	public Member(String id) {
    		System.out.println("Member(String id) 실행");
    	}
    	public Member(String name, String id) {
    		System.out.println("Member(String name, String id)");
    		this.name = name;
    		this.id = id;
    	}
    	
    	public String getId() { return id; }
    }
    ```
    

---

## References

- 이것이 자바다 신용권의 Java 프로그래밍 정복 - 신용권 지음, 한빛미디어 출판