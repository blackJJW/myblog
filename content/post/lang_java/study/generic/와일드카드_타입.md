---
title: "[Java] 제네릭, 와일드카드 타입(<?>, <? extends …>, <? super …>)"
description: ""
date: "2022-10-29T13:40:30+09:00"
thumbnail: ""
categories:
  - "Java"
tags:
  - "Java"


---
<!--more-->

- 코드에서 `?`를 일반적으로 와일드카드(wildcard)라고 부른다.
- 제네릭 타입을 매개값이나 리턴 타입으로 사용할 때 구체적인 타입 대신에 와일드카드를 다음과 같이 세 가지 형태로 사용 가능
    - `제네릭타입<?>` : Unbounded Wildcards (제한 없음)
        
        타입 파라미터를 대치하는 구체적인 타입으로 모든 클래스나 인터페이스 타입이 올 수 있다.
        
    - `제네릭타입<? extends 상위타입>` : Upper Bounded Wildcards (상위 클래스 제한)
        
        타입 파라미터를 대치하는 구체적인 타입으로 상위 타입이나 하위 타입만 올 수 있다.
        
    - `제네릭타입<? super 하위타입>` : Lower Bounded Wildcards (하위 클래스 제한)
        
        타입 파라미터를 대치하는 구체적인 타입으로 하위 타입이나 상위 타입이 올 수 있다.
        
- ex) 제네릭 타입
    - 제네릭 타입 Course는 과정 클래스로 과정 이름과 수강생을 저장할 수 있는 배열을 가지고 있다.
    - 타입 파라미터 T가 적용된 곳은 수강생 타입 부분
    - Course.java
    
    ```java
    public class Course<T> {
    	private String name;
    	private T[] students;
    	
    	public Course(String name, int capacity) {
    		this.name = name;
    		students = (T[]) (new Object[capacity]);
    		          /* 타입 파라미터로 배열을 생성하려면
    		           * new T[n] 형태로 배열을 생성할 수 없고
    		           * (T[]) (new Object[n])으로
    		           * 생성해야 한다.
    		           */
    	}
    	
    	public String getName() { return name; }
    	public T[] getStudents() { return students; }
    		
    	// 배열에 비어있는 부분을 찾아서 수강생을 추가하는 메소드
    	public void add(T t) {
    		for(int i = 0; i < students.length; i++) {
    			if(students[i] == null) {
    				students[i] = t;
    				break;
    			}
    		}
    	}
    }
    ```
    
    - 수강생이 될 수 있는 타입은 다음 4가지 클래스라고 가정
        - Person의 하위 클래스로 Worker와 Student가 있고, Student의 하위 클래스로 HighStudent가 있다.
        
        ![Untitled](/images/lang_java/generic/와일드카드_타입/Untitled.png)
        
        - `Course<?>`
            
            수강생은 모든 타입(Person, Worker, Student, HighStudent)이 될 수 있다.
            
        - `Course<? extends Student>`
            
            수강생은 Student와 HighStudent만 될 수 있다.
            
        - `Course<? super Worker>`
            
            수강생은 Worker와 Person만 될 수 있다.
            
    - Person.java
        
        ```java
        public class Person {
        	private String name;
        	
        	public Person(String name) {
        		this.name = name;
        	}
        	
        	public String getName() { return name; }
        
        	@Override
        	public String toString() {
        		return name;
        	}
        	
        }
        ```
        
    - Student.java
        
        ```java
        public class Student extends Person{
        
        	public Student(String name) {
        		super(name);
        	}
        }
        ```
        
    - Worker.java
        
        ```java
        public class Worker extends Person{
        
        	public Worker(String name) {
        		super(name);
        	}
        }
        ```
        
    - HightStudent.java
        
        ```java
        public class HighStudent extends Student{
        
        	public HighStudent(String name) {
        		super(name);
        	}
        }
        ```
        
- ex) 와일드카드 타입 매개 변수
    - `registerCourseXXX()` 메소드의 매개값으로 와일드카드 타입을 사용
    - `registerCourse()`는 모든 수강생이 들을 수 있는 과정을 등록
    - `registerCourseStudent()`는 학생만 들을 수 있는 과정을 등록
    - `registerCourseWorker()`는 직장인만 들을 수 있는 과정을 등록
    - WildCardEx.java
    
    ```java
    import java.util.Arrays;
    
    public class WildCardEx {
    	// Person, Worker, Student, HighStudent
    	public static void registerCourse( Course<?> course){
    	    System.out.println(course.getName() + " 수강생: " + Arrays.toString(course.getStudents()));
    	}
    	// Student, High Student
    	public static void registerCourseStudent( Course<? extends Student> course){
    	    System.out.println(course.getName() + " 수강생: " + Arrays.toString(course.getStudents()));
    	}
    
    	// Worker, Person
    	public static void registerCourseWorker( Course<? super Worker> course){
    	    System.out.println(course.getName() + " 수강생: " + Arrays.toString(course.getStudents()));
    	}
    
    	public static void main(String[] args) {
            Course <Person> personCourse = new Course<Person>("일반인과정",5);
            personCourse.add(new Person("일반인"));
            personCourse.add(new Worker("직장인"));
            personCourse.add(new Student("학생"));
            personCourse.add(new HighStudent("고등학생"));
    
            Course <Worker> workerCourse = new Course<Worker>("직장인과정", 5);
            workerCourse.add(new Worker("직장인"));
    
            Course <Student> studentCourse = new Course<Student>("학생과정", 5);
            studentCourse.add(new Student("학생"));
            studentCourse.add(new HighStudent("고등학생"));
    
            Course <HighStudent> highStudentCourse = new Course<HighStudent>("고등학생과정",5);
            highStudentCourse.add(new HighStudent("고등학생"));
            
            // Course<?>
            registerCourse(personCourse);
            registerCourse(workerCourse);
            registerCourse(studentCourse);
            registerCourse(highStudentCourse);
            System.out.println();
            
            // Course<? extends...>
            //registerCourseStudent(personCourse); (x)
            //registerCourseStudent(workerCourse); (x)
            registerCourseStudent(studentCourse);
            registerCourseStudent(highStudentCourse);
            System.out.println();
            
            // Course<? super ...>
            //registerCourseWorker(studentCourse); (x)
            //registerCourseWorker(highStudentCourse); (x)
            registerCourseWorker(personCourse);
            registerCourseWorker(workerCourse);
    	}
    }
    ```
    
    ![Untitled](/images/lang_java/generic/와일드카드_타입/Untitled%201.png)
    

---

## References

- 이것이 자바다 신용권의 Java 프로그래밍 정복 - 신용권 지음, 한빛미디어 출판