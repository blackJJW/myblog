---
title: "[Java] NIO, 파일 비동기 채널"
description: ""
date: "2023-01-28T13:00:30+09:00"
thumbnail: ""
categories:
  - "Java"
tags:
  - "Java"

---
<!--more-->

- FileChannel의 `read()`와 `write()` 메소드는 파일 입출력 작업 동안 블로킹
    - 만약 UI 및 이벤트를 처리하는 스레드에서 이 메소드들을 호출하면 블로킹되는 동안에 UI 갱신이나 이벤트 처리를 할 수 없다.
    - 별도의 작업 스레드를 생성해서 이 메소드들을 호출해야 한다.
    - 만약 동시에 처리해야 할 파일 수가 많다면 스레드의 수도 증가하기 때문에 문제가 될 수 있다.
- 자바 NIO는 불특정 다수의 파일 및 대용량 파일의 입출력 작업을 위해 비동기 파일 채널(AsynchronousFileChannel)을 별도로 제공
- AsynchronousFileChannel의 특징
    - 파일의 데이터 입출력을 위해 `read()`와 `write()` 메소드를 호출하면 스레드풀에서 작업 처리를 요청
        - 이 메소드들을 즉시 리턴시킴
    - 실질적인 입출력 작업 처리는 스레드풀의 작업 스레드가 담당
    - 작업 스레드가 파일 입출력을 완료하게 되면 콜백(callback) 메소드가 자동 호출
        - 작업 완료 후 실행해야 할 코드가 있다면 콜백 메소드에 작성하면 된다.

![Untitled](/images/lang_java/NIO/파일_비동기_채널/Untitled.png)

---

## References

- 이것이 자바다 신용권의 Java 프로그래밍 정복 - 신용권 지음, 한빛미디어 출판