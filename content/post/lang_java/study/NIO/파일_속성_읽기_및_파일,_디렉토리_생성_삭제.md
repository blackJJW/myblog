---
title: "[Java] NIO, 파일 속성 읽기 및 파일, 디렉토리 생성/삭제"
description: ""
date: "2023-01-23T16:00:30+09:00"
thumbnail: ""
categories:
  - "Java"
tags:
  - "Java"
---
<!--more-->

- `java.nio.file.Files` 클래스는 파일과 디렉토리의 생성 및 삭제, 그리고 이들의 속성을 읽는 메소드를 제공
    - 속성 : 파일이나 디렉토리가 숨김인지, 디렉토리인지, 크기가 어떻게 되는지, 소유자가 누구인지에 대한 정보
    
    ### `java.nio.file.Files` 클래스가 제공하는 정적 메소드
    
    | 리턴 타입 | 메소드(매개 변수) | 설명 |
    | --- | --- | --- |
    | long 또는 Path | copy( … ) | 복사 |
    | Path | createDirectories( … ) | 모든 부모 디렉토리만 생성 |
    | Path | createDirectory( … ) | 경로의 마지막 디렉토리만 생성 |
    | Path | createFile( … ) | 파일 생성 |
    | void | delete( … ) | 삭제 |
    | boolean | deleteIfExists( … ) | 존재한다면 삭제 |
    | boolean | exists( … ) | 존재 여부 |
    | FileStore | getFileStore( … ) | 파일이 위치한 FileStore(드라이브) 리턴 |
    | FileTime | getLastModifiedTime( … ) | 마지막 수정 시간을 리턴 |
    | UserPrincipal | getOwner( … ) | 소유자 정보를 리턴 |
    | boolean | isDirectory( … ) | 디렉토리인지 여부 |
    | boolean | isExecutable( … ) | 실행 가능 여부 |
    | boolean | isHidden( … ) | 숨김 여부 |
    | boolean | isReadable( … ) | 읽기 가능 여부 |
    | boolean | isRegularFile( … ) | 일반 파일인지 여부 |
    | boolean | isSameFile( … ) | 같은 파일인지 여부 |
    | boolean | isWritable( … ) | 쓰기 가능 여부 |
    | Path | move( … ) | 파일 이동 |
    | BufferedReader | newBufferedReader( … ) | 텍스트 파일을 읽는 BufferedReader 리턴 |
    | BufferedWriter | newBufferedWriter( … ) | 텍스트 파일에 쓰는 BufferedWriter 리턴 |
    | SeekableByteChannel | newByteChannel( … ) | 파일에 읽고 쓰는 바이트 채널을 리턴 |
    | DirectoryStream<Path> | newDirectoryStream( … ) | 디렉토리의 모든 내용을 스트림으로 리턴 |
    | InputStream | newInputStream( … ) | 파일의 InputStream 리턴 |
    | OutputStream | newOutputStream( … ) | 파일의 OutputStream 리턴 |
    | boolean | notExists( … ) | 존재하지 않는지 여부 |
    | String | probeContentType( … ) | 파일의 MIME 타입을 리턴 |
    | byte[ ] | readAllBytes( … ) | 파일의 모든 바이트를 읽고 배열로 리턴 |
    | List<String> | readAllLines( … ) | 텍스트 파일의 모든 라인을 읽고 리턴 |
    | long | size( … ) | 파일의 크기 리턴 |
    | Path | write( … ) | 파일에 바이트나 문자열을 저장 |
- ex) 파일 속성 얻기
    - FileEx.java
    
    ```java
    import java.nio.file.Files;
    import java.nio.file.Path;
    import java.nio.file.Paths;
    
    public class FileEx {
    
    	public static void main(String[] args) throws Exception {
    		Path path = Paths.get("src/nio/FileEx.java");
    		System.out.println("디렉토리 여부 : " + Files.isDirectory(path));
    		System.out.println("파일 여부 : " + Files.isRegularFile(path));
    		System.out.println("마지막 수정 시간 : " + Files.getLastModifiedTime(path));
    		System.out.println("파일 크기 : " + Files.size(path));
    		System.out.println("소유자 : " + Files.getOwner(path));
    		System.out.println("숨김 파일 여부 : " + Files.isHidden(path));
    		System.out.println("읽기 파일 여부 : " + Files.isReadable(path));
    		System.out.println("쓰기 파일 여부 : " + Files.isWritable(path));
    	}
    }
    ```
    
    ![Untitled](/images/lang_java/NIO/파일_속성_읽기_및_파일,_디렉토리_생성_삭제/Untitled.png)
    
- ex) 디렉토리와 파일을 생성하고, 디렉토리의 내용을 출력
    - DirectoryEx.java
    
    ```java
    import java.nio.file.DirectoryStream;
    import java.nio.file.Files;
    import java.nio.file.Path;
    import java.nio.file.Paths;
    
    public class DirectoryEx {
    
    	public static void main(String[] args) throws Exception {
    		Path path1 = Paths.get("C:/Temp/dir/subdir");
    		Path path2 = Paths.get("C:/Temp/file.txt");
    		
    		if(Files.notExists(path1)) {
    			// 경로상에 존재하지 않는 모든 디렉토리 생성
    			Files.createDirectories(path1);
    		}
    		
    		if(Files.notExists(path2)) {
    			// 파일 생성
    			Files.createFile(path2);
    		}
    		
    		Path path3 = Paths.get("C:/Temp");
    		// 디렉토리 내용을 스트림(반복자)으로 얻음
    		DirectoryStream<Path> directoryStream 
    					= Files.newDirectoryStream(path3);
    		
    		for(Path path : directoryStream) {
    			if(Files.isDirectory(path)) {
    				System.out.println("[ 디렉토리 ] " + path.getFileName());
    			} else {
    				System.out.println("[ 파일 ] " + path.getFileName()
    							+ " ( 크기 : " + Files.size(path) + " )");
    			}
    		}
    	}
    }
    ```
    
    ![Untitled](/images/lang_java/NIO/파일_속성_읽기_및_파일,_디렉토리_생성_삭제/Untitled%201.png)
    

---

## References

- 이것이 자바다 신용권의 Java 프로그래밍 정복 - 신용권 지음, 한빛미디어 출판